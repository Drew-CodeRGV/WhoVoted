<!DOCTYPE html>
<html>
<head>
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .globe {
            width: 100px;
            height: 100px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        .loading-text {
            text-align: center;
            max-width: 400px;
            font-family: Arial, sans-serif;
            color: #333;
            padding: 0 20px;
            line-height: 1.5;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Original styles */
        .overlay-image {
            max-width: 100%;
            height: auto;
        }

        .welcome-popup {
            /* existing styles */
        }

        .search-container {
            /* existing styles */
        }

        .info-strip {
            /* existing styles */
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="globe"></div>
        <p class="loading-text">
            Welcome to Politiquera.com. Please wait a moment while we load the most current voter location details we have. Thank you for your patience!
        </p>
    </div>

    <!-- Original Content -->
    <img src="assets/politiquera.png" class="overlay-image" alt="Overlay">

    <div id="welcomePopup" class="welcome-popup">
        Ã—
        <p>Welcome to Politiquera.com! This map shows you who has early-voted in Hidalgo & Cameron County according to their voter turnout rosters. Use this to see who's voted in your City, Community or on your block. If they haven't voted, you can use this as a conversation starter to encourage them to get out and vote! Thanks for visiting!</p>
    </div>

    <div class="search-container">
        Search
        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdib3g9IjAgMCAyNCAyNCIgZmlsbD0iY3VycmVudENvbG9yIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyIDhjLTIuMjEgMC00IDEuNzktNCA0czEuNzkgNCA0IDQgNC0xLjc5IDQtNC0xLjc5LTQtNC00em04Ljk0IDNjLS40Ni00LjE3LTMuNzctNy40OC03Ljk0LTcuOTRWMWgtMnYyLjA2QzYuODMgMy41MiAzLjUyIDYuODMgMy4wNiAxMUgxdjJoMi4wNmMuNDYgNC4xNyAzLjc3IDcuNDggNy45NCA3Ljk0VjIzaDJ2LTIuMDZjNC4xNy0uNDYgNy40OC0zLjc3IDcuOTQtNy45NEgyM3YtMmgtMi4wNnpNMTIgMTljLTMuODcgMC03LTMuMTMtNy03czMuMTMtNyA3LTcgNyAzLjEzIDcgNy0zLjEzIDctNyA3eiIgLz4KICAgICAgICAgICAgPC9zdmc+" alt="Search">
    </div>

    <div id="map"></div>

    <div class="info-strip">
        Using publicly available data from 
        <a href="https://www.hidalgocounty.us/3339/Unofficial-Early-Voting-Totals-Rosters" target="_blank">Hidalgo County</a> & 
        <a href="https://cameroncountytx.gov/elections/results/" target="_blank">Cameron County</a> 
        Elections Department. <span id="total-addresses">Loading...</span> out of 
        <span id="total-voters">446,749</span> Hidalgo County voters 
        (<span id="percentage">0.00</span>%) as of <span id="last-updated">Loading...</span>.
    </div>

    <script>
        // Hide loading overlay when data is ready
        window.addEventListener('load', function() {
            // You'll want to modify this to actually wait for your data to load
            // For now, we'll simulate a delay
            setTimeout(function() {
                document.getElementById('loadingOverlay').style.display = 'none';
            }, 2000); // Adjust timing as needed based on actual data loading time
        });
    </script>
</body>
</html>
